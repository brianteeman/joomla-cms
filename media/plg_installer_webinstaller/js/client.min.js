!function(e,t){if(!t)throw new Error("Joomla API is not properly initialised");t.apps={view:"dashboard",id:0,ordering:"",cssfiles:[],jsfiles:[],list:0,loaded:0,update:!1},t.loadweb=function(r){if(!r)return!1;var a=new RegExp(apps_base_url),l=new RegExp("^index.php");if(!a.test(r)&&!l.test(r))return window.open(r,"_blank"),!1;if(r+="&product="+apps_product+"&release="+apps_release+"&dev_level="+apps_dev_level+"&list="+(t.apps.list?"list":"grid")+"&pv="+apps_pv,""!==t.apps.ordering&&e.querySelector("#com-apps-ordering").value&&(t.apps.ordering=e.querySelector("#com-apps-ordering").value,r+="&ordering="+t.apps.ordering),e.querySelector("#myTabContent")){var i=e.querySelector("#appsloading");i.style.position="absolute",i.style.left="0",i.style.top="0",i.style.width="100%",i.style.height="100%",e.querySelector("#web").style.position="relative",e.querySelector("#web").appendChild(i),jQuery.event.trigger("ajaxStart")}return jQuery.ajax({url:r,dataType:"jsonp",cache:!0,jsonpCallback:"jedapps_jsonpcallback",timeout:2e4,success:function(r){if(e.querySelector("#web-loader").style.display="none",e.querySelector("#jed-container").innerHTML=r.data.html,!t.apps.update&&r.data.pluginuptodate<1){t.apps.update=!0;var a=apps_obsolete,l=apps_updateavail2;0==r.data.pluginuptodate&&(a=apps_updateavail1),e.querySelector("#web").insertAdjacentHTML("afterbegin",'<div class="alert alert-info j-jed-message" style="margin-bottom: 20px; line-height: 2em; color:#333333;">'+a+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="btn" type="button" value="'+l+'" onclick="Joomla.submitbuttonInstallWebInstaller()" /></div>')}e.querySelector("#myTabContent")&&jQuery.event.trigger("ajaxStop")},fail:function(){e.querySelector("#web-loader").style.display="none",e.querySelector("#web-loader-error").style.display="block",e.querySelector("#myTabContent")&&jQuery.event.trigger("ajaxStop")},complete:function(){e.querySelector("#joomlaapsinstallatinput")&&(e.querySelector("#joomlaapsinstallatinput").value=apps_installat_url),t.apps.clickforlinks(),t.apps.clicker(),t.apps.list&&e.querySelector(".list-view").click(),e.querySelector("#myTabContent")&&jQuery.event.trigger("ajaxStop")},error:function(t,r,a){t.responseText&&(e.querySelector("#web-loader-error").innerHTML=t.responseText),e.querySelector("#web-loader").style.display="none",e.querySelector("#web-loader-error").style.display="block",e.querySelector("#myTabContent")&&jQuery.event.trigger("ajaxStop")}}),!0},t.webpaginate=function(t,r){e.querySelector("#web-paginate-loader").style.display="block",jQuery.get(t,function(t){e.querySelector("#web-paginate-loader").style.display="none",e.querySelector("#"+r).innerHTML=t.data.html},"jsonp").fail(function(){e.querySelector("#web-paginate-loader").style.display="none"})},t.installfromwebexternal=function(t){return 1==confirm("You will be redirected to the following link to complete the registration/purchase - \n"+t)&&(e.querySelector("#adminForm").setAttribute("action",t),e.querySelector("input[name=task]").setAttribute("disabled",!0),e.querySelector("input[name=install_directory]").setAttribute("disabled",!0),e.querySelector("input[name=install_url]").setAttribute("disabled",!0),e.querySelector("input[name=installtype]").setAttribute("disabled",!0),e.querySelector("input[name=filter_search]").setAttribute("disabled",!0),!0)},t.installfromweb=function(t,r){return t?(e.querySelector("#install_url").value=t,e.querySelector("#uploadform-web-url").innerHTML=t,r?(e.querySelector("#uploadform-web-name").innerHTML=r,e.querySelector("#uploadform-web-name-label").style.display="block"):e.querySelector("#uploadform-web-name-label").style.display="none",e.querySelector("#uploadform-web").style.display="block",!0):(alert("This extension cannot be installed via the web. Please visit the developer's website to purchase/download."),!1)},t.installfromwebcancel=function(){e.querySelector("#uploadform-web").style.display="none",t.apps.list&&e.querySelector(".list-view").click()},t.installfromwebajaxsubmit=function(){var r="&view="+t.apps.view;(t.apps.id&&(r+="&id="+t.apps.id),e.querySelector("#com-apps-searchbox").value)&&(r+="&filter_search="+encodeURI(e.querySelector("#com-apps-searchbox").value.toLowerCase().replace(/ +/g,"_").replace(/[^a-z0-9-_]/g,"").trim()));var a=t.apps.ordering;""!==a&&e.querySelector("#com-apps-ordering").value&&(a=e.querySelector("#com-apps-ordering").value),a&&(r+="&ordering="+a),t.loadweb(apps_base_url+"index.php?format=json&option=com_apps"+r)},t.apps.clickforlinks=function(){[].slice.call(e.querySelectorAll("a.transcode")).forEach(e=>{this.getAttribute("href");e.addEventListener("click",function(e){var r=new RegExp(apps_base_url),a=new RegExp("^index.php");r.test(ajax_url)||a.test(ajax_url)?(t.apps.view=ajax_url.replace(/^.+[&\?]view=(\w+).*$/,"$1"),"dashboard"==t.apps.view?t.apps.id=0:"category"==t.apps.view&&(t.apps.id=ajax_url.replace(/^.+[&\?]id=(\d+).*$/,"$1")),e.preventDefault(),t.loadweb(apps_base_url+ajax_url)):(e.preventDefault(),t.loadweb(ajax_url))}),this.setAttribute("href","#")})},t.apps.initialize=function(){t.apps.loaded=1,e.querySelector("#myTabContent")&&(e.querySelector("#web").insertAdjacentHTML("afterbegin",'<div id="appsloading"></div>'),e.querySelector("#web").style.position="absolute",jQuery("#appsloading").ajaxStart(function(){e.querySelector("body").classList.add("ifw-busy"),this.style.display="block"}).ajaxStop(function(){this.style.display="none",e.querySelector("body").classList.remove("ifw-busy")})),t.loadweb(apps_base_url+"index.php?format=json&option=com_apps&view=dashboard"),t.apps.clickforlinks(),e.querySelector("#com-apps-searchbox").addEventListener("keypress",function(e){13==e.which&&t.apps.initiateSearch()}),e.querySelector("#search-reset").addEventListener("click",function(r){e.querySelector("#com-apps-searchbox").value="",t.apps.initiateSearch()}),e.querySelector("#com-apps-ordering").addEventListener("change",function(e){t.apps.ordering=jQuery(this).prop("selectedIndex"),t.installfromwebajaxsubmit()}),""!=apps_installfrom_url&&t.installfromweb(apps_installfrom_url)},t.apps.initiateSearch=function(){t.apps.view="dashboard",t.installfromwebajaxsubmit()},t.apps.clicker=function(){e.querySelector(".grid-view").addEventListener("click",function(){t.apps.list=0,e.querySelector(".list-container").classList.add("hidden"),e.querySelector(".grid-container").classList.remove("hidden"),e.querySelector("#btn-list-view").classList.remove("active"),e.querySelector("#btn-grid-view").classList.remove("active")}),e.querySelector(".list-view").addEventListener("click",function(){t.apps.list=1,e.querySelector(".grid-container").classList.add("hidden"),e.querySelector(".list-container").classList.remove("hidden"),e.querySelector("#btn-grid-view").classList.remove("active"),e.querySelector("#btn-list-view").classList.add("active")})},t.submitbutton5=function(r){var a=e.getElementById("adminForm");""!==a.install_url.value&&"http://"!==a.install_url.value?t.submitbutton4():""===a.install_url.value?alert(apps_btntxt):(e.querySelector("#appsloading").style.display="block",a.installtype.value="web",a.submit())}}(document,Joomla);